const a12_0x1e5975=a12_0x4aa5;function a12_0x4aa5(_0x264c0b,_0x36cbc9){const _0x11ceb5=a12_0x11ce();return a12_0x4aa5=function(_0x4aa5da,_0x4014f0){_0x4aa5da=_0x4aa5da-0xcb;let _0x4e15af=_0x11ceb5[_0x4aa5da];return _0x4e15af;},a12_0x4aa5(_0x264c0b,_0x36cbc9);}(function(_0x5beea5,_0x4f5377){const _0x2e6fb3=a12_0x4aa5,_0x23f70f=_0x5beea5();while(!![]){try{const _0x47a193=parseInt(_0x2e6fb3(0x123))/0x1+-parseInt(_0x2e6fb3(0xce))/0x2+parseInt(_0x2e6fb3(0xf9))/0x3*(parseInt(_0x2e6fb3(0xcc))/0x4)+parseInt(_0x2e6fb3(0xcd))/0x5+-parseInt(_0x2e6fb3(0xd5))/0x6*(-parseInt(_0x2e6fb3(0x12b))/0x7)+-parseInt(_0x2e6fb3(0x113))/0x8+parseInt(_0x2e6fb3(0x107))/0x9*(-parseInt(_0x2e6fb3(0x109))/0xa);if(_0x47a193===_0x4f5377)break;else _0x23f70f['push'](_0x23f70f['shift']());}catch(_0x548110){_0x23f70f['push'](_0x23f70f['shift']());}}}(a12_0x11ce,0xeb75f));const fs=require('fs'),util=require(a12_0x1e5975(0xf6)),request=require('request'),{v4:uuidv4}=require('uuid'),{logger}=require(a12_0x1e5975(0x125)),{inputBstackKeys}=require(a12_0x1e5975(0x133)),{BS_API_URL,HELP_HEADER_MESSAGE,HELP_FOOTER_MESSAGE,global_registry,messageTypes}=require('../config/constants'),{getDirForConfig,getCredentialsPath}=require(a12_0x1e5975(0xef)),{sendInstrumentationEvent}=require(a12_0x1e5975(0xe2)),promisifiedRequest=util[a12_0x1e5975(0x12c)](request);function a12_0x11ce(){const _0x509e38=['exit','kpjOE','usage','sjZKV','dAAzy','SDReV','5708180jiKaqz','8091120whWAdF','3354706mjhqvF','CjjIu','command','YFKAW','requestId','OElun','Use\x20corresponding\x20access-key\x20to\x20configure\x20the\x20CLI\x20for\x20future\x20actions.','283218WZyVie','Browserstack','Wrong\x20credentials\x20passed.\x20Please\x20try\x20again\x20with\x20correct\x20credentials!','username','NqlCN','KwjtJ','BrowserStack\x20username\x20and\x20password\x20neither\x20passed\x20in\x20command\x20line\x20arguments\x20nor\x20set\x20as\x20environment\x20variables.\x20Raising\x20a\x20prompt\x20to\x20get\x20the\x20details.','epilogue','xiXmp','vIQVS','tKbHQ','bstack-accesskey','rdKQR','../utils/instrumentationUtils','stringify','TTzyB','wSIXT','tYVcS','strict','EKlPl','ElIUs','/automate/plan.json','FQWbh','options','xgqON','builder','../utils/utilityMethods','existsSync','PQPKV','handler','argv','GET','statusCode','util','JjmBf','mkdirSync','3uQvFTC','BxeMh','Use\x20username\x20to\x20configure\x20the\x20CLI\x20for\x20future\x20actions.','eyAAD','debug','wxfRD','adNTE','mffPG','liXbr','jJlzU','AySPd','wSuzj','description','bstackAccesskey','1935801oGSnUu','kSISW','60AewvOG','uwnwt','password','BROWSERSTACK_USERNAME','url','readFileSync','FXUiX','BROWSERSTACK_ACCESS_KEY','ooZOQ','BkMsQ','10534208ZwHRaq','OobVz','ZtKmr','parse','kvvzP','zEutx','bstack-username','YKxfp','recommendCommands','AWOzb','TsraX','string','env','GTANw','bstackUsername','gbhqX','1590202bpMIye','EtPuX','../config/logger','method','type','gzoJj','xGncZ','init-called','91XVWSBU','promisify','unknown-error','qoxMV','SxoFm','ZtshX','Initialise\x20the\x20BrowserStack\x20CLI\x20with\x20appropriate\x20credentials.','writeFileSync','../utils/userInput','help','init','QbXcX','QXHvE','ERROR','kJkKl'];a12_0x11ce=function(){return _0x509e38;};return a12_0x11ce();}exports[a12_0x1e5975(0xd0)]='init',exports['desc']=a12_0x1e5975(0x131),exports[a12_0x1e5975(0xee)]=function(_0x42b2ff){const _0x2b97e3=a12_0x1e5975,_0x509bf2={};_0x509bf2[_0x2b97e3(0x108)]='Use\x20username\x20to\x20configure\x20the\x20CLI\x20for\x20future\x20actions.',_0x509bf2[_0x2b97e3(0x117)]='string',_0x509bf2['mffPG']=_0x2b97e3(0xd4),_0x509bf2[_0x2b97e3(0x137)]='help';const _0x445ed4=_0x509bf2,_0x595301={};_0x595301[_0x2b97e3(0x105)]=_0x445ed4[_0x2b97e3(0x108)],_0x595301[_0x2b97e3(0x127)]=_0x445ed4[_0x2b97e3(0x117)];const _0x1964d3={};_0x1964d3[_0x2b97e3(0x105)]=_0x445ed4[_0x2b97e3(0x100)],_0x1964d3[_0x2b97e3(0x127)]=_0x445ed4['kvvzP'];const _0x147f17={};return _0x147f17[_0x2b97e3(0x119)]=_0x595301,_0x147f17[_0x2b97e3(0xe0)]=_0x1964d3,_0x42b2ff[_0x2b97e3(0x13c)](HELP_HEADER_MESSAGE[_0x2b97e3(0x135)])['epilogue'](HELP_FOOTER_MESSAGE)[_0x2b97e3(0xec)](_0x147f17)[_0x2b97e3(0x11b)]()[_0x2b97e3(0xe7)]()[_0x2b97e3(0x134)](_0x445ed4[_0x2b97e3(0x137)])[_0x2b97e3(0xf3)];},exports[a12_0x1e5975(0xf2)]=async function(_0x466b5a){const _0xe604c7=a12_0x1e5975,_0x243a59={'BkMsQ':function(_0x29b377){return _0x29b377();},'gbhqX':'utf-8','yvnfb':_0xe604c7(0xfb),'wxfRD':_0xe604c7(0x11e),'OElun':_0xe604c7(0xd4),'GTANw':_0xe604c7(0x134),'nVAMM':function(_0x595015){return _0x595015();},'wSIXT':function(_0x33e646,_0x142e45,_0x2ae4f9,_0xb49d84,_0x4e837f,_0x4e69f6,_0x264c2f){return _0x33e646(_0x142e45,_0x2ae4f9,_0xb49d84,_0x4e837f,_0x4e69f6,_0x264c2f);},'wSuzj':_0xe604c7(0x12a),'sjZKV':function(_0x563b0a){return _0x563b0a();},'rdKQR':function(_0x471e4f,_0xa4f09e){return _0x471e4f===_0xa4f09e;},'FQWbh':_0xe604c7(0x13b),'xiXmp':function(_0x347134,_0xb3b6b7){return _0x347134===_0xb3b6b7;},'RpmzN':_0xe604c7(0xd1),'SDReV':_0xe604c7(0x10a),'AWOzb':function(_0x592f06,_0x4844f2){return _0x592f06===_0x4844f2;},'eyAAD':_0xe604c7(0xf1),'DTqyI':_0xe604c7(0x12f),'ElIUs':function(_0x39a222,_0x150876){return _0x39a222===_0x150876;},'zEutx':_0xe604c7(0x129),'mGfOp':_0xe604c7(0xe6),'adNTE':function(_0x535f80,_0xdd21e1){return _0x535f80!==_0xdd21e1;},'xgqON':'iRsaP','CjjIu':_0xe604c7(0x130),'qoxMV':function(_0x3898f3,_0x50ae76){return _0x3898f3===_0x50ae76;},'FXUiX':function(_0x4e1aa9,_0x44f5f1){return _0x4e1aa9===_0x44f5f1;},'liXbr':function(_0x4e6918,_0x768270){return _0x4e6918!==_0x768270;},'ooZOQ':_0xe604c7(0x124),'AySPd':_0xe604c7(0xde),'OobVz':_0xe604c7(0xdb),'dAAzy':function(_0x3c7c5a){return _0x3c7c5a();},'YKxfp':_0xe604c7(0xf4),'JjmBf':function(_0x3827ba,_0x5825ff){return _0x3827ba(_0x5825ff);},'jJlzU':function(_0x149727,_0x785b37){return _0x149727!==_0x785b37;},'kkRiP':function(_0x1fa656,_0x377d3e){return _0x1fa656===_0x377d3e;},'gzoJj':_0xe604c7(0xe4),'aTBcQ':'YEqjl','tKbHQ':_0xe604c7(0xd9),'BxeMh':_0xe604c7(0xe8),'QbXcX':'WXwDn','ZtKmr':_0xe604c7(0x11d),'KwjtJ':_0xe604c7(0xd7),'kJkKl':function(_0x51de3d,_0x3e35d2,_0x83209d,_0x1cc7dd,_0x485c99,_0x57e9c7,_0x345546){return _0x51de3d(_0x3e35d2,_0x83209d,_0x1cc7dd,_0x485c99,_0x57e9c7,_0x345546);},'tNuHS':'wrong-creds','rigZK':function(_0x54a2f2,_0x10a544,_0x5557a1,_0x1f9a16,_0x3a5283,_0x14b275,_0x3a0a29){return _0x54a2f2(_0x10a544,_0x5557a1,_0x1f9a16,_0x3a5283,_0x14b275,_0x3a0a29);},'BlhyR':_0xe604c7(0x12d)};try{global_registry[_0xe604c7(0xd2)]=_0x243a59['nVAMM'](uuidv4),_0x243a59[_0xe604c7(0xe5)](sendInstrumentationEvent,_0x466b5a,_0x243a59[_0xe604c7(0x104)],messageTypes['INFO'],null,null,_0x466b5a);const _0x22636e=_0x243a59[_0xe604c7(0x13d)](getDirForConfig);!fs[_0xe604c7(0xf0)](_0x22636e)&&(_0x243a59[_0xe604c7(0xe1)](_0x243a59[_0xe604c7(0xeb)],_0x243a59[_0xe604c7(0xeb)])?fs[_0xe604c7(0xf8)](_0x22636e):_0x9634d8=_0x469431['env'][_0xe604c7(0x10c)]);let _0x597b20,_0x5bb9fa;if(process[_0xe604c7(0x11f)][_0xe604c7(0x10c)]){if(_0x243a59[_0xe604c7(0xdd)](_0x243a59['RpmzN'],_0x243a59[_0xe604c7(0xcb)])){let _0x30f8d9={};const _0x27826b=_0x243a59[_0xe604c7(0x112)](_0x1d495f);_0x335cf3[_0xe604c7(0xf0)](_0x27826b)&&(_0x30f8d9=_0x1cab7a[_0xe604c7(0x116)](_0x73fae2[_0xe604c7(0x10e)](_0x27826b,_0x243a59[_0xe604c7(0x122)])));const _0x2b9f14={};_0x2b9f14[_0xe604c7(0xd8)]=_0x31d090,_0x2b9f14[_0xe604c7(0x10b)]=_0x2afde3,_0x30f8d9[_0xe604c7(0xd6)]=_0x2b9f14,_0x3c795b[_0xe604c7(0x132)](_0x27826b,_0x36b18b[_0xe604c7(0xe3)](_0x30f8d9)),_0x9ae8be[_0xe604c7(0x13a)](0x0);}else _0x597b20=process[_0xe604c7(0x11f)][_0xe604c7(0x10c)];}process[_0xe604c7(0x11f)][_0xe604c7(0x110)]&&(_0x243a59[_0xe604c7(0x11c)](_0x243a59[_0xe604c7(0xfc)],_0x243a59['DTqyI'])?_0x1e1b66[_0xe604c7(0xf8)](_0xe491ec):_0x5bb9fa=process[_0xe604c7(0x11f)][_0xe604c7(0x110)]);if(_0x466b5a[_0xe604c7(0x121)]){if(_0x243a59[_0xe604c7(0xe9)](_0x243a59[_0xe604c7(0x118)],_0x243a59['mGfOp'])){const _0x50de67={};_0x50de67[_0xe604c7(0x105)]=_0x243a59['yvnfb'],_0x50de67['type']=_0x243a59[_0xe604c7(0xfe)];const _0x59f816={};_0x59f816[_0xe604c7(0x105)]=_0x243a59[_0xe604c7(0xd3)],_0x59f816[_0xe604c7(0x127)]=_0x243a59[_0xe604c7(0xfe)];const _0x283487={};return _0x283487[_0xe604c7(0x119)]=_0x50de67,_0x283487[_0xe604c7(0xe0)]=_0x59f816,_0x1bc7d3['usage'](_0x132790['init'])[_0xe604c7(0xdc)](_0x39c1ba)[_0xe604c7(0xec)](_0x283487)[_0xe604c7(0x11b)]()['strict']()[_0xe604c7(0x134)](_0x243a59[_0xe604c7(0x120)])[_0xe604c7(0xf3)];}else _0x597b20=_0x466b5a[_0xe604c7(0x121)];}_0x466b5a[_0xe604c7(0x106)]&&(_0x243a59[_0xe604c7(0xff)](_0x243a59[_0xe604c7(0xed)],_0x243a59[_0xe604c7(0xcf)])?_0x5bb9fa=_0x466b5a[_0xe604c7(0x106)]:_0x5f3cda=_0x462b23[_0xe604c7(0x121)]);if(_0x243a59['qoxMV'](_0x597b20,undefined)||_0x243a59[_0xe604c7(0x10f)](_0x5bb9fa,undefined)){if(_0x243a59['liXbr'](_0x243a59[_0xe604c7(0x111)],_0x243a59[_0xe604c7(0x103)])){logger[_0xe604c7(0xfd)](_0x243a59[_0xe604c7(0x114)]);const [_0x4a2399,_0x35915e]=await _0x243a59[_0xe604c7(0x13e)](inputBstackKeys);_0x597b20=_0x4a2399,_0x5bb9fa=_0x35915e;}else _0x202074=_0x5ca061[_0xe604c7(0x116)](_0x32e805['readFileSync'](_0x57ea19,_0x243a59[_0xe604c7(0x122)]));}let _0x8a600f=![];const _0x5aa70a={};_0x5aa70a[_0xe604c7(0x10d)]='https://'+_0x597b20+':'+_0x5bb9fa+'@'+BS_API_URL+_0xe604c7(0xea),_0x5aa70a[_0xe604c7(0x126)]=_0x243a59[_0xe604c7(0x11a)];const _0x5418af=_0x5aa70a,_0x1be293=await _0x243a59[_0xe604c7(0xf7)](promisifiedRequest,_0x5418af);_0x243a59['adNTE'](_0x1be293,null)&&_0x243a59[_0xe604c7(0x102)](_0x1be293,undefined)&&_0x243a59['kkRiP'](_0x1be293[_0xe604c7(0xf5)],0xc8)&&(_0x243a59[_0xe604c7(0x102)](_0x243a59[_0xe604c7(0x128)],_0x243a59['aTBcQ'])?_0x8a600f=!![]:_0x4caac8=_0x429a57['env']['BROWSERSTACK_ACCESS_KEY']);if(_0x8a600f){if(_0x243a59[_0xe604c7(0x101)](_0x243a59[_0xe604c7(0xdf)],_0x243a59[_0xe604c7(0xfa)])){let _0x35f405={};const _0x14cf40=_0x243a59[_0xe604c7(0x112)](getCredentialsPath);fs['existsSync'](_0x14cf40)&&(_0x243a59[_0xe604c7(0x12e)](_0x243a59[_0xe604c7(0x136)],_0x243a59[_0xe604c7(0x115)])?_0xfb2b5f=_0x5a9632['bstackAccesskey']:_0x35f405=JSON[_0xe604c7(0x116)](fs[_0xe604c7(0x10e)](_0x14cf40,_0x243a59[_0xe604c7(0x122)])));const _0xfed209={};_0xfed209[_0xe604c7(0xd8)]=_0x597b20,_0xfed209['password']=_0x5bb9fa,_0x35f405[_0xe604c7(0xd6)]=_0xfed209,fs[_0xe604c7(0x132)](_0x14cf40,JSON[_0xe604c7(0xe3)](_0x35f405)),process['exit'](0x0);}else _0x9408b8=!![];}else logger['error'](_0x243a59[_0xe604c7(0xda)]),await _0x243a59[_0xe604c7(0x139)](sendInstrumentationEvent,_0x466b5a,_0x243a59[_0xe604c7(0x104)],messageTypes[_0xe604c7(0x138)],_0x243a59['tNuHS'],null,_0x466b5a),process[_0xe604c7(0x13a)](0x1);}catch(_0x50a11e){logger['error'](_0x50a11e['stack']),await _0x243a59['rigZK'](sendInstrumentationEvent,_0x466b5a,_0x243a59[_0xe604c7(0x104)],messageTypes[_0xe604c7(0x138)],_0x243a59['BlhyR'],_0x50a11e,_0x466b5a),process['exit'](0x1);}};