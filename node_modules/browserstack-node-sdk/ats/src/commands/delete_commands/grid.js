function a11_0x322c(){const _0x193aa9=['stringify','writeFileSync','parse','NWKvk','iJEnk','exit','stack','gridId','unauthorised','toLowerCase','hDnRb','Wrong\x20input!\x20Please\x20try\x20again\x20with\x20a\x20valid\x20input.','QOjIY','tYuQI','esDyv','description','invalid-input','delete-grid-called','promisify','../../config/logger','Grid\x20ID\x20not\x20passed.\x20Please\x20provide\x20a\x20Grid\x20ID\x20to\x20delete\x20using\x20--grid-id\x20option','HJbYT','Unable\x20to\x20fetch\x20credentials\x20for\x20cloud\x20provider\x20locally','command','oJNYa','Grid\x20is\x20deleted\x20but\x20failed\x20to\x20update\x20server\x20for\x20grid\x20deletion.\x20Response\x20from\x20server:\x20','readFileSync','zzntO','2490366oNbWkO','nwBWA','unZQI','239612UuAKAe','PQzOD','eXIhv','cloudProvider','VNfBG','merbR','2244519DWvXBp','help','TMOYm','ttgJv','dlvoZ','ERROR','ukFHj','BiOFd','argv','\x20along\x20with\x20Kubernetes\x20Cluster\x20with\x20name\x20\x22','server-error','KyjAW','error','3Izapge','PkQwY','../../utils/gridComponents','tPkub','../../config/constants','Saving\x20credentials\x20for\x20cloud\x20provider\x20locally\x20for\x20later\x20runs','CmzFZ','gttAN','options','uuid','XotLa','\x20is\x20not\x20created\x20by\x20Browserstack.\x20Skipping\x20deletion\x20of\x20this\x20cluster','dCbjb','desc','type','IrsCl','7ZXWlwv','Found\x20credentials\x20for\x20cloud\x20provider\x20locally.\x20Using\x20them\x20for\x20performing\x20actions','deleteCluster','statusCode','../../utils/userInput','INFO','clusterId','auth','Credentials\x20not\x20found!\x20Ensure\x20init\x20command\x20is\x20run\x20before\x20running\x20this\x20command.','/packages/cli/grid/','existsSync','ZhVfH','clusterName','\x22\x20with\x20ID\x20','Browserstack','.\x20Do\x20you\x20want\x20to\x20proceed\x20with\x20deletion?\x20(y/n)','mHUnb','This\x20will\x20delete\x20the\x20Grid\x20with\x20name\x20\x22','usage','gWkvs','fetchLocalCreds','request','Cluster:\x20','oTAGJ','requestId','../../utils/createk8sClient','OSKCT','Failed\x20to\x20fetch\x20grid\x20details\x20from\x20the\x20server.\x20Unauthorized\x20request!','EGpSr','info','xoaPI','bDMBx','onlyGridInCluster','builder','Eiypd','url','Pass\x20the\x20ID\x20of\x20the\x20Grid','bBJXz','../../utils/instrumentationUtils','181114nTAcYe','body','219382iwjhrR','Succesfully\x20deleted\x20the\x20grid','\x22\x20and\x20ID\x20','sTKAs','region','teYnp','hyIHT','handler','name','dirxn','init-not-called','YhBxQ','username','password','util','1440520HxKonp','FqSNr','configureIfNotConfigured','../../utils/utilityMethods','dWiwY','Nlyfz','grid-id','PEKhC','cneRt','emVqX','invalid-grid-id','epilogue','string','1852910kmeyqe'];a11_0x322c=function(){return _0x193aa9;};return a11_0x322c();}const a11_0x322ab7=a11_0x3979;function a11_0x3979(_0x1081d6,_0x41fdae){const _0x322c32=a11_0x322c();return a11_0x3979=function(_0x397926,_0x2fcf44){_0x397926=_0x397926-0xea;let _0x4cd579=_0x322c32[_0x397926];return _0x4cd579;},a11_0x3979(_0x1081d6,_0x41fdae);}(function(_0x31941e,_0x3a1666){const _0x34a1ce=a11_0x3979,_0x1d53d5=_0x31941e();while(!![]){try{const _0x5bd552=-parseInt(_0x34a1ce(0x117))/0x1+parseInt(_0x34a1ce(0x119))/0x2+parseInt(_0x34a1ce(0x168))/0x3*(-parseInt(_0x34a1ce(0x155))/0x4)+parseInt(_0x34a1ce(0x135))/0x5+parseInt(_0x34a1ce(0x152))/0x6*(parseInt(_0x34a1ce(0xf0))/0x7)+-parseInt(_0x34a1ce(0x128))/0x8+-parseInt(_0x34a1ce(0x15b))/0x9;if(_0x5bd552===_0x3a1666)break;else _0x1d53d5['push'](_0x1d53d5['shift']());}catch(_0x29eaf1){_0x1d53d5['push'](_0x1d53d5['shift']());}}}(a11_0x322c,0x36e5d));const fs=require('fs'),util=require(a11_0x322ab7(0x127)),request=require(a11_0x322ab7(0x105)),{v4:uuidv4}=require(a11_0x322ab7(0x171)),{HELP_HEADER_MESSAGE,HELP_FOOTER_MESSAGE,global_registry,messageTypes,AG_API_URL,AWS,AZURE}=require(a11_0x322ab7(0x16c)),{logger}=require(a11_0x322ab7(0x149)),{getCloudProviderObject}=require('../../cloudproviders/utils'),{removeGridComponents,deleteClusterAndDependencies}=require(a11_0x322ab7(0x16a)),{sendInstrumentationEvent}=require(a11_0x322ab7(0x116)),{inputConfirmation,inputCloudProviderKeys}=require(a11_0x322ab7(0xf4)),{createK8sClient}=require(a11_0x322ab7(0x109)),{kebabCase,getCredentialsPath,getGridDetails}=require(a11_0x322ab7(0x12b)),promisifiedRequest=util[a11_0x322ab7(0x148)](request);exports[a11_0x322ab7(0x14d)]='grid',exports[a11_0x322ab7(0xed)]='Delete\x20an\x20Automation\x20grid.',exports[a11_0x322ab7(0x111)]=function(_0x9dbcac){const _0x9cfd7e=a11_0x322ab7,_0x356765={};_0x356765[_0x9cfd7e(0x157)]=_0x9cfd7e(0x114),_0x356765[_0x9cfd7e(0xef)]=_0x9cfd7e(0x134),_0x356765[_0x9cfd7e(0x156)]=_0x9cfd7e(0x15c);const _0x48d14d=_0x356765,_0xeaf91={};_0xeaf91['description']=_0x48d14d[_0x9cfd7e(0x157)],_0xeaf91['type']=_0x48d14d[_0x9cfd7e(0xef)];const _0x2f288c={};return _0x2f288c[_0x9cfd7e(0x12e)]=_0xeaf91,_0x9dbcac[_0x9cfd7e(0x102)](HELP_HEADER_MESSAGE['delete'])[_0x9cfd7e(0x133)](HELP_FOOTER_MESSAGE)[_0x9cfd7e(0x170)](_0x2f288c)[_0x9cfd7e(0x15c)](_0x48d14d[_0x9cfd7e(0x156)])[_0x9cfd7e(0x163)];},exports[a11_0x322ab7(0x120)]=async function(_0x1d8633){const _0x3ec434=a11_0x322ab7,_0x89023c={'TMOYm':_0x3ec434(0x114),'KyjAW':_0x3ec434(0x134),'gWkvs':'help','iJEnk':_0x3ec434(0x14a),'dCbjb':function(_0x153625){return _0x153625();},'oTAGJ':function(_0x3371f3,_0x362c3f){return _0x3371f3!==_0x362c3f;},'bDMBx':_0x3ec434(0x143),'Yczex':_0x3ec434(0xf8),'nwBWA':function(_0x44361c,_0x545d32,_0xfdac8,_0x517d9b,_0x52af0e,_0x30ef78,_0x7dc315){return _0x44361c(_0x545d32,_0xfdac8,_0x517d9b,_0x52af0e,_0x30ef78,_0x7dc315);},'PkQwY':_0x3ec434(0x147),'xoaPI':_0x3ec434(0x123),'PEKhC':function(_0x1f4335,_0x267cdf){return _0x1f4335!==_0x267cdf;},'dlvoZ':'UERPb','CmzFZ':function(_0x2de6a1,_0x15907f,_0xee8da6,_0xc759d){return _0x2de6a1(_0x15907f,_0xee8da6,_0xc759d);},'ukFHj':function(_0x1d444a,_0x210d8a){return _0x1d444a===_0x210d8a;},'hDnRb':_0x3ec434(0xfe),'tPkub':function(_0x5a2921,_0x439b92){return _0x5a2921!==_0x439b92;},'YhBxQ':_0x3ec434(0x142),'zmtga':'NDfWz','zIwBc':function(_0x3d039d,_0x468ec3){return _0x3d039d(_0x468ec3);},'emVqX':function(_0xd7411c,_0x30251b){return _0xd7411c===_0x30251b;},'OSKCT':function(_0x4cafae,_0xda3c80){return _0x4cafae===_0xda3c80;},'sTKAs':function(_0x404d48,_0x47d70b){return _0x404d48===_0x47d70b;},'teYnp':'qBUwn','trzdG':_0x3ec434(0x141),'NWKvk':function(_0x9942c5,_0xad527f,_0x2ea7b8,_0x22b84e,_0x2f47e8,_0x74c780,_0xcd9be1){return _0x9942c5(_0xad527f,_0x2ea7b8,_0x22b84e,_0x2f47e8,_0x74c780,_0xcd9be1);},'iUhlD':_0x3ec434(0x146),'fnsVI':function(_0xef6bc4,_0x2705f3){return _0xef6bc4!==_0x2705f3;},'EGpSr':'STDrB','mHUnb':function(_0xeff58,_0x3617ab){return _0xeff58===_0x3617ab;},'merbR':function(_0x2db4ec,_0x1b5790){return _0x2db4ec!==_0x1b5790;},'dirxn':'WUPJS','Eiypd':_0x3ec434(0x14c),'FqSNr':function(_0x3d1567,_0x32c44d){return _0x3d1567!==_0x32c44d;},'VNfBG':_0x3ec434(0xea),'ttgJv':_0x3ec434(0x14b),'zzntO':_0x3ec434(0x16d),'Nlyfz':_0x3ec434(0xf1),'Kdynp':function(_0x2a2218,_0x583950){return _0x2a2218(_0x583950);},'oJNYa':function(_0x48d340,_0x2cd5df,_0x38be1c,_0xa20151,_0x98b5b2,_0x1bd27d){return _0x48d340(_0x2cd5df,_0x38be1c,_0xa20151,_0x98b5b2,_0x1bd27d);},'ZhVfH':'DELETE','hyIHT':function(_0x177a21,_0x5785a3){return _0x177a21!==_0x5785a3;},'esDyv':function(_0x6f2bf3,_0x28341c){return _0x6f2bf3===_0x28341c;},'cneRt':function(_0xed4a24,_0x274353,_0x91c687,_0x2d810e,_0x309a3c,_0x695f5b,_0x39297c){return _0xed4a24(_0x274353,_0x91c687,_0x2d810e,_0x309a3c,_0x695f5b,_0x39297c);},'BiOFd':_0x3ec434(0x165),'unZQI':_0x3ec434(0x13e),'bBJXz':_0x3ec434(0x132),'dWiwY':function(_0x133e2f,_0x1f075c,_0x16441f,_0x3f9246,_0x5f0efd,_0x402ac2,_0x239e9e){return _0x133e2f(_0x1f075c,_0x16441f,_0x3f9246,_0x5f0efd,_0x402ac2,_0x239e9e);},'gttAN':'unknown-error'};try{global_registry[_0x3ec434(0x108)]=_0x89023c[_0x3ec434(0xec)](uuidv4);!fs[_0x3ec434(0xfa)](_0x89023c['dCbjb'](getCredentialsPath))&&(_0x89023c[_0x3ec434(0x107)](_0x89023c['bDMBx'],_0x89023c[_0x3ec434(0x10f)])?_0x482082[_0x3ec434(0x13b)](0x0):(console[_0x3ec434(0x167)](_0x89023c['Yczex']),await _0x89023c[_0x3ec434(0x153)](sendInstrumentationEvent,_0x1d8633,_0x89023c[_0x3ec434(0x169)],messageTypes[_0x3ec434(0x160)],_0x89023c[_0x3ec434(0x10e)],null,_0x1d8633),process[_0x3ec434(0x13b)](0x1)));_0x89023c[_0x3ec434(0x153)](sendInstrumentationEvent,_0x1d8633,_0x89023c[_0x3ec434(0x169)],messageTypes[_0x3ec434(0xf5)],null,null,_0x1d8633);!_0x1d8633['gridId']&&(_0x89023c[_0x3ec434(0x12f)](_0x89023c[_0x3ec434(0x15f)],_0x89023c[_0x3ec434(0x15f)])?_0x588208[_0x3ec434(0x158)]={}:(console['error'](_0x89023c[_0x3ec434(0x13a)]),process[_0x3ec434(0x13b)](0x1)));const _0x2cf282=JSON[_0x3ec434(0x138)](fs[_0x3ec434(0x150)](_0x89023c['dCbjb'](getCredentialsPath))),[_0x3c3be,_0x2d2673]=await _0x89023c[_0x3ec434(0x16e)](getGridDetails,_0x2cf282['Browserstack']['username'],_0x2cf282[_0x3ec434(0xfe)][_0x3ec434(0x126)],_0x1d8633[_0x3ec434(0x13d)]);if(_0x2d2673){const _0x2fad2d=_0x2d2673[_0x3ec434(0x10d)];let _0x5c04e8='This\x20will\x20delete\x20the\x20Grid\x20with\x20name\x20\x22'+_0x2fad2d['name']+_0x3ec434(0x11b)+_0x2fad2d['id']+'.\x20Do\x20you\x20want\x20to\x20proceed\x20with\x20deletion?\x20(y/n)',_0x14821c;if(_0x2d2673[_0x3ec434(0x110)]&&_0x89023c[_0x3ec434(0x161)](_0x2d2673['clusterSpawnedVia'],_0x89023c[_0x3ec434(0x140)])){if(_0x89023c[_0x3ec434(0x16b)](_0x89023c[_0x3ec434(0x124)],_0x89023c['zmtga']))_0x5c04e8=_0x3ec434(0x101)+_0x2fad2d[_0x3ec434(0x121)]+_0x3ec434(0x11b)+_0x2fad2d['id']+_0x3ec434(0x164)+_0x2fad2d['clusterName']+_0x3ec434(0xfd)+_0x2fad2d[_0x3ec434(0xf6)]+_0x3ec434(0xff);else{const _0x1c4b1d={};_0x1c4b1d[_0x3ec434(0x145)]=_0x89023c[_0x3ec434(0x15d)],_0x1c4b1d[_0x3ec434(0xee)]=_0x89023c[_0x3ec434(0x166)];const _0x5ec9d7={};return _0x5ec9d7[_0x3ec434(0x12e)]=_0x1c4b1d,_0x44dfe0[_0x3ec434(0x102)](_0xf83a41['delete'])[_0x3ec434(0x133)](_0x4d3d20)['options'](_0x5ec9d7)[_0x3ec434(0x15c)](_0x89023c[_0x3ec434(0x103)])[_0x3ec434(0x163)];}}_0x14821c=await _0x89023c['zIwBc'](inputConfirmation,_0x5c04e8);(_0x89023c[_0x3ec434(0x161)](_0x14821c,undefined)||_0x89023c[_0x3ec434(0x131)](_0x14821c,null)||!(_0x89023c['OSKCT'](_0x14821c[_0x3ec434(0x13f)](),'y')||_0x89023c[_0x3ec434(0x11c)](_0x14821c[_0x3ec434(0x13f)](),'n')))&&(_0x89023c[_0x3ec434(0x10a)](_0x89023c[_0x3ec434(0x11e)],_0x89023c[_0x3ec434(0x11e)])?(console['error'](_0x89023c['trzdG']),await _0x89023c[_0x3ec434(0x139)](sendInstrumentationEvent,_0x1d8633,_0x89023c[_0x3ec434(0x169)],messageTypes[_0x3ec434(0x160)],_0x89023c['iUhlD'],null,_0x1d8633),process[_0x3ec434(0x13b)](0x1)):_0x52920c='This\x20will\x20delete\x20the\x20Grid\x20with\x20name\x20\x22'+_0x4ea35f[_0x3ec434(0x121)]+_0x3ec434(0x11b)+_0x2b90c2['id']+_0x3ec434(0x164)+_0x4d7eeb[_0x3ec434(0xfc)]+_0x3ec434(0xfd)+_0x19c7cb[_0x3ec434(0xf6)]+_0x3ec434(0xff));_0x89023c['ukFHj'](_0x14821c[_0x3ec434(0x13f)](),'n')&&(_0x89023c['fnsVI'](_0x89023c[_0x3ec434(0x10c)],_0x89023c[_0x3ec434(0x10c)])?(_0x97a35b[_0x3ec434(0x10d)]('Succesfully\x20deleted\x20the\x20grid'),_0x19fcb9[_0x3ec434(0x13b)](0x0)):process[_0x3ec434(0x13b)](0x0));global_registry['clusterRegion']=_0x2fad2d[_0x3ec434(0x11d)];const _0x53ab64=_0x2fad2d[_0x3ec434(0x158)],_0x2b6886=_0x89023c[_0x3ec434(0x16e)](getCloudProviderObject,_0x53ab64,_0x2fad2d[_0x3ec434(0xfc)],_0x2fad2d[_0x3ec434(0x121)]),_0x4f4760=_0x2cf282[_0x3ec434(0x158)];if(_0x89023c[_0x3ec434(0x100)](_0x4f4760[_0x53ab64],undefined)){if(_0x89023c[_0x3ec434(0x15a)](_0x89023c[_0x3ec434(0x122)],_0x89023c[_0x3ec434(0x122)]))_0x215c65[_0x3ec434(0x167)](_0x89023c[_0x3ec434(0x13a)]),_0x296c3c['exit'](0x1);else{logger[_0x3ec434(0x10d)](_0x89023c[_0x3ec434(0x112)]);_0x89023c['OSKCT'](_0x2cf282[_0x3ec434(0x158)],undefined)&&(_0x89023c[_0x3ec434(0x129)](_0x89023c[_0x3ec434(0x159)],_0x89023c[_0x3ec434(0x15e)])?_0x2cf282[_0x3ec434(0x158)]={}:_0x1d341c['warn'](_0x3ec434(0x106)+_0x4193ee[_0x3ec434(0xfc)]+'\x20is\x20not\x20created\x20by\x20Browserstack.\x20Skipping\x20deletion\x20of\x20this\x20cluster'));_0x2cf282[_0x3ec434(0x158)][_0x53ab64]={};const _0x104a49=await _0x89023c[_0x3ec434(0x16e)](inputCloudProviderKeys,_0x53ab64,_0x2cf282,_0x2b6886);fs[_0x3ec434(0x137)](_0x89023c[_0x3ec434(0xec)](getCredentialsPath),JSON[_0x3ec434(0x136)](_0x104a49)),logger['debug'](_0x89023c[_0x3ec434(0x151)]);}}else logger[_0x3ec434(0x10d)](_0x89023c[_0x3ec434(0x12d)]),await _0x2b6886[_0x3ec434(0x104)](_0x4f4760);_0x2b6886[_0x3ec434(0x12a)]();const _0x43d940=_0x89023c['zIwBc'](kebabCase,_0x2fad2d[_0x3ec434(0x121)]),[_0x4581fb,_0x46117d,_0xe00d92,_0x25ae76,_0x1d7373,_0x2904f4]=await _0x89023c['Kdynp'](createK8sClient,_0x2b6886);await _0x89023c[_0x3ec434(0x14e)](removeGridComponents,_0x4581fb,_0x46117d,_0xe00d92,_0x25ae76,_0x43d940);if(_0x2d2673['onlyGridInCluster']){const _0x1a349=await _0x2b6886['isBrowserstackCluster']();_0x1a349?await _0x2b6886[_0x3ec434(0xf2)](_0x4581fb,_0x2fad2d['region']):logger['warn'](_0x3ec434(0x106)+_0x2fad2d['clusterName']+_0x3ec434(0xeb));}const _0x11a256='https://'+AG_API_URL+_0x3ec434(0xf9)+_0x1d8633[_0x3ec434(0x13d)],_0x4dbea8={};_0x4dbea8[_0x3ec434(0x125)]=_0x2cf282[_0x3ec434(0xfe)][_0x3ec434(0x125)],_0x4dbea8[_0x3ec434(0x126)]=_0x2cf282[_0x3ec434(0xfe)]['password'];const _0x2ce5e9={};_0x2ce5e9[_0x3ec434(0x113)]=_0x11a256,_0x2ce5e9['method']=_0x89023c[_0x3ec434(0xfb)],_0x2ce5e9[_0x3ec434(0xf7)]=_0x4dbea8;const _0x54d32f=_0x2ce5e9,_0x29c426=await _0x89023c['zIwBc'](promisifiedRequest,_0x54d32f);_0x89023c[_0x3ec434(0x11f)](_0x29c426,null)&&_0x89023c[_0x3ec434(0x107)](_0x29c426,undefined)&&_0x89023c[_0x3ec434(0x144)](_0x29c426[_0x3ec434(0xf3)],0xc8)&&(logger[_0x3ec434(0x10d)](_0x3ec434(0x11a)),process[_0x3ec434(0x13b)](0x0)),logger[_0x3ec434(0x167)](_0x3ec434(0x14f)+JSON[_0x3ec434(0x136)](_0x29c426)),await _0x89023c[_0x3ec434(0x130)](sendInstrumentationEvent,_0x1d8633,_0x89023c[_0x3ec434(0x169)],messageTypes[_0x3ec434(0x160)],_0x89023c[_0x3ec434(0x162)],_0x3c3be,_0x1d8633),process[_0x3ec434(0x13b)](0x1);}_0x89023c[_0x3ec434(0x131)](_0x3c3be['statusCode'],0x191)&&(logger[_0x3ec434(0x167)](_0x3ec434(0x10b)),await _0x89023c[_0x3ec434(0x139)](sendInstrumentationEvent,_0x1d8633,_0x89023c[_0x3ec434(0x169)],messageTypes['ERROR'],_0x89023c[_0x3ec434(0x154)],null,_0x1d8633),process['exit'](0x1)),_0x89023c[_0x3ec434(0x11c)](_0x3c3be[_0x3ec434(0xf3)],0x190)&&(logger[_0x3ec434(0x167)](JSON[_0x3ec434(0x138)](_0x3c3be[_0x3ec434(0x118)])['message']),await _0x89023c[_0x3ec434(0x139)](sendInstrumentationEvent,_0x1d8633,_0x89023c[_0x3ec434(0x169)],messageTypes['ERROR'],_0x89023c[_0x3ec434(0x115)],null,_0x1d8633),process[_0x3ec434(0x13b)](0x1)),logger[_0x3ec434(0x167)]('Failed\x20to\x20fetch\x20grid\x20details\x20from\x20the\x20server.\x20Response\x20from\x20server:\x20'+JSON[_0x3ec434(0x136)](_0x3c3be)),await _0x89023c[_0x3ec434(0x153)](sendInstrumentationEvent,_0x1d8633,_0x89023c['PkQwY'],messageTypes[_0x3ec434(0x160)],_0x89023c['BiOFd'],_0x3c3be,_0x1d8633),process[_0x3ec434(0x13b)](0x1);}catch(_0x4c4946){logger[_0x3ec434(0x167)]('Failed\x20to\x20delete\x20resources!\x20Error:\x20'+_0x4c4946[_0x3ec434(0x13c)]),await _0x89023c[_0x3ec434(0x12c)](sendInstrumentationEvent,_0x1d8633,_0x89023c[_0x3ec434(0x169)],messageTypes[_0x3ec434(0x160)],_0x89023c[_0x3ec434(0x16f)],_0x4c4946,_0x1d8633),process[_0x3ec434(0x13b)](0x1);}};